---
import Layout from '../layouts/Layout.astro';
import { Profile } from '../components/Profile';

// Ensure user is authenticated
const { user } = Astro.locals;

if (!user) {
  return Astro.redirect('/login');
}

// Set prerender to false to enable SSR
export const prerender = false;
---

<Layout title="Profil uÅ¼ytkownika">
  <Profile client:load user={user} />
</Layout> 